<!DOCTYPE html>
<html>
  <head>
    <title>Thredded | <%= yield :thredded_page_title %></title>
    <meta content='width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0' name='viewport' />
    <%= stylesheet_link_tag 'thredded' %>
    <%= stylesheet_link_tag 'application' %>
    <%= csrf_meta_tag %>
  </head>

  <body class="layout-application <%= yield :thredded_page_id %>" id="<%= yield :thredded_page_id %>">
    <nav class="fixed-nav-bar">
      <div>
        <%= link_to 'Home', main_app.root_path %>
        <% if current_user %>
          <%= current_user.display_name %>
          <%= link_to 'Sign Out', main_app.destroy_user_session_path %>
          <%= link_to 'View Colonies', main_app.colonies_path %>
        <% else %>
          <%= link_to 'Sign In', main_app.new_user_session_path %>
        <% end %>
      </div>
      <div>
      </div>
    </nav>
    <%= render 'layouts/header' %>
    <div class="main-container">
      <header class="navigation" role="banner">

        <%= render 'thredded/shared/top_nav' %>
        <%= render 'thredded/shared/topic_nav' %>
      </header>

      <%= render 'thredded/shared/error_messages' %>

      <%= yield %>

      <%= render 'thredded/shared/currently_online' %>

    </div>
    <%= render 'layouts/footer' %>
    <%= javascript_include_tag 'thredded' %>
    <%= yield :thredded_javascript %>

    <script>
      var thredded = (typeof thredded === 'undefined') ? new Thredded : thredded;
      thredded.currentlyOnline.init();
    </script>
  </body>
</html>
